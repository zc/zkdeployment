
- zdaemon: when a program dies on startup, the exit status is 0. It
  should be non-zeo so as not to hide a failure to start.

- Agent: need configurable timeout.

  Need very long timeout for stage-build

- Agent: when staging, we'll typically need to install dev rpms and
  other dependencies that would normallt appear in the spec file.

- Agent isn't recognizing that rpm is installed.

- Agent record fqdn and role in zk

- Maybe make host nodes ephemeral.  This would require logging host version
  to disk and loading it on startup. Perhaps /etc/zim/host-version

- check that rpm is actually installed by checking installed version.

  amongst the many way that yum sucks is that when it can't find a
  requested package, it exits with a 0 exit status.

- Need a --force/-f option in agent.

- zc.zk

  - Fix property links:

    - get_properties
    - dict(props)
    - iter(props)

  - option on import to ignore ephemeral nodes

- Don't fail of there isn't an /etc/APP directory.

  Make one if there isn't one prior to calling zookeeper-deploy.

- The default command timeout isn't long enough to build-out z4m.

- We seem to be installing the ZRS rpm over and over on jim-c5.

- zc.recipe.rhrc: process management needs better error handling.

  If the process failes to start, a stop command should be issued.
  The reason for issueing the stop command is that the process may
  have started, but be running incorrectly and times out.  In this
  case, we want to stop it if it's running.

  (Of course, we should make sure other bits are cleaned up too, if
  they aren't already.)



Later
-----

- Fix zimagent to remove monitors when agent.d files are removed and
  add monitors when agent.d files are added **without restart**!!!

- zc.zk logging snafus:

  - exceptions on shut down

  - dealing with replacement of the log file.

- Include log file in zdaemon configs, so that the logtail command works.

- Allow for a variation of
  hostagent that configures aws.  This could largely function like the
  existing host agent, except:

  - probably want to store ".deployed" files in S3, rather than on a
    particular host.

  - Need special case in hamdling RPM/opt garbage collection.  We
    don't want a local host agent to remove an RPM needed for AWS, but
    not locally, and the other way around.

- OS and move to github
